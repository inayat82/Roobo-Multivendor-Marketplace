(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[995],{4738:function(e,t,s){Promise.resolve().then(s.bind(s,2945))},2945:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return l}});var r=s(7437),n=s(2265),a=s(9376);function i(){let e=(0,a.useSearchParams)().get("shop"),[t,s]=(0,n.useState)(!1),[i,l]=(0,n.useState)("");(0,n.useEffect)(()=>{e?o():l("Shop parameter is missing from the installation URL")},[e]);let o=()=>{if(!e){l("Shop parameter is required for installation");return}console.log("Starting installation for shop:",e),s(!0);let t=e.includes(".myshopify.com")?e:"".concat(e,".myshopify.com");window.location.href="/api/auth/shopify?shop=".concat(t)};return i?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-pink-50 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8 max-w-md w-full text-center",children:[(0,r.jsx)("div",{className:"text-red-600 text-4xl mb-4",children:"‚ùå"}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Installation Error"}),(0,r.jsx)("p",{className:"text-red-600 mb-6",children:i}),(0,r.jsx)("a",{href:"https://marketplace.roobosoft.com/install",className:"inline-block bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg",children:"Try Manual Installation"})]})}):(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8 max-w-md w-full text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Installing Roobo Marketplace"}),(0,r.jsxs)("p",{className:"text-gray-600 mb-4",children:["Installing app for store: ",(0,r.jsx)("strong",{children:e})]}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Please wait while we redirect you to Shopify for authorization..."})]})})}function l(){return(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto"}),(0,r.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Loading..."})]})}),children:(0,r.jsx)(i,{})})}},9376:function(e,t,s){"use strict";var r=s(5475);s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})}},function(e){e.O(0,[971,117,744],function(){return e(e.s=4738)}),_N_E=e.O()}]);